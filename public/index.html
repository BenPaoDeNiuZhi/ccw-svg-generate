<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
</head>

<body>
    <h3>基于cf制作,可以根据请求参数来生成svg或其他格式的图片及文件</h1>
        <h2>使用方法:</h2>
        <ol id="container">
            <!-- <li><a href=""><img src="//a?template=" /></a></li> -->
        </ol>
        <script>
            //http://www.w3.org/2000/svg
            items = [
                {
                    text: "基础:返回一个svg图片:", src:`a?template=${(()=>{
                        const svg = document.createElement("svg")
                        svg.setAttribute('width',100)
                        svg.setAttribute('height',100)
                        svg.setAttribute('xmlns','http://www.w3.org/2000/svg')
                        const rect = document.createElement('rect')
                        rect.setAttribute('x',10)
                        rect.setAttribute('y',10)
                        rect.setAttribute('width',80)
                        rect.setAttribute('height',80)
                        rect.setAttribute('fill','blue')
                        svg.appendChild(rect)
                        return svg.outerHTML
                    })()}`.replaceAll('\n', '').replaceAll('  ',' ')
                },
                {
                    text: "可以使用%s作为占位符,根据params填充,比如根据ip返回一个svg图片:", src:`a?template=${(()=>{
                        const svg = document.createElement("svg")
                        svg.setAttribute('width',100)
                        svg.setAttribute('height',100)
                        svg.setAttribute('xmlns','http://www.w3.org/2000/svg')
                        const rect = document.createElement('rect')
                        rect.setAttribute('x',10)
                        rect.setAttribute('y',10)
                        rect.setAttribute('width',80)
                        rect.setAttribute('height',80)
                        rect.setAttribute('fill','blue')
                        const text = document.createElement('text')
                        text.setAttribute('x',50)
                        text.setAttribute('y',50)
                        text.setAttribute('fill','white')
                        text.setAttribute('font-size',10)
                        text.setAttribute('text-anchor','middle')
                        text.innerText = 'ip为:%s'
                        svg.appendChild(rect)
                        svg.appendChild(text)
                        return svg.outerHTML
                    })()}&params=["ip"]`.replaceAll('\n', '').replaceAll('  ',' ')
                }
            ]
            const container = document.getElementById('container')
            for (let i of items) {
                const li = document.createElement('li')
                const div = document.createElement('div')
                const a = document.createElement('a')
                a.style.height = '100px'
                a.href = i.src
                a.innerHTML = i.text
                const img = document.createElement('img')
                img.src = i.src
                img.style.border = 'groove black'
                div.style.display = 'flex'
                div.appendChild(a)
                div.appendChild(img)
                li.appendChild(div)
                container.appendChild(li)
            }
        </script>
</body>

</html>